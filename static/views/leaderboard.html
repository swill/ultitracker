{{define "leaderboard_active"}}class="active"{{end}}

{{define "styles"}}
<style type="text/css">
  .center {
    text-align:center;
  }

  .box,
  .box .box-title,
  .box .badge {
    font-size:120%;
  }

  .boom.box .box-title {
    font-weight:bold;
  }
</style>
{{end}}

{{define "scripts"}}
<script src="/static/js/js-cookie.js"></script>

<script type="text/javascript">
  $(function() {
    // reload the page if the setting is set.
    $('#leaderboard_rows').on('change', function() {
      Cookies.set('leaderboard_rows', $('#leaderboard_rows').val(), { expires: 365 });
      $('#control-sidebar-settings-form').submit();
    });

    // check if the default leaderboard rows setting has been set.
    var leaderboard_rows = Cookies.get('leaderboard_rows')
    if (typeof leaderboard_rows != 'undefined') {
      prev_value = $('#leaderboard_rows').val();
      $('#leaderboard_rows').val(leaderboard_rows);
      if (prev_value != leaderboard_rows) {
        $('#leaderboard_rows').trigger('change');
      }
    }
  });
</script>
{{end}}


{{define "content"}}
<div id="content" class="leaderboards">

  {{ $length := len .Leaderboards }} {{ if eq $length 0 }}
    <div class="box box-primary box-solid">
      <div class="box-header with-border">
        <h3 class="box-title">No Leaders Yet!</h3>
        <div class="box-tools pull-right"></div>
        <!-- /.box-tools -->
      </div>
      <!-- /.box-header -->
      <div class="box-body">
        Until sessions have been entered, you will not see anything on this page.
      </div>
      <!-- /.box-body -->
    </div>
  {{ end }}

    <div class="row">
    {{ range $index, $board :=  .Leaderboards }}
        {{ if and (mod $index 2) (ne $index 0) }}
          </div>
          <div class="row">
        {{end}}
        {{ $boom_index := 0 }}
        <div class="col-xs-12 col-sm-6">
          <div class="{{if eq $index $boom_index}}boom {{end}}box box-primary">
            <div class="box-header">
              <h3 class="box-title">{{$board.Title}}</h3>
              <div class="box-tools"></div>
            </div>
            <!-- /.box-header -->
            <div class="box-body no-padding">
              <table class="table table-condensed">
                <tbody><tr>
                  <th style="width: 10px">#</th>
                  <th>Name</th>
                  <th style="width: 100px" class="center">Time(h)</th>
                </tr>
                {{ range $i, $p := $board.Players }}
                <tr>
                  <td>{{inc $i}}.</td>
                  <td>{{$p.Name}}</td>
                  <td class="center"><span class="badge {{if eq $index $boom_index}}bg-green{{else}}bg-blue{{end}}">{{fmt $p.Score}}</span></td>
                </tr>
                {{end}}
              </tbody></table>
            </div>
            <!-- /.box-body -->
          </div>
        </div>

    {{end}}
    </div>

</div>
{{end}}

{{define "right_nav"}}
<!-- Navbar Right Menu -->
<div class="navbar-custom-menu">
  <ul class="nav navbar-nav">
    <!-- Control Sidebar Toggle Button -->
    <li>
      <a href="#" data-toggle="control-sidebar"><i class="fa fa-gears"></i></a>
    </li>
  </ul>
</div>
{{end}}

{{define "control_sidebar"}}
<!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    <!-- Create the tabs --
    <ul class="nav nav-tabs nav-justified control-sidebar-tabs">
      <li class="active"><a href="#control-sidebar-settings-tab" data-toggle="tab"><i class="fa fa-wrench"></i></a></li>
    </ul>
    <!-- Tab panes -->
    <div class="tab-content">
      <!-- Settings tab content -->
      <div class="tab-pane active" id="control-sidebar-settings-tab">
        <form id="control-sidebar-settings-form" method="post">
          <h3 class="control-sidebar-heading">Settings</h3>

          <div class="form-group">
            <label class="control-sidebar-subheading">
              Leaderboard Rows
              <input id="leaderboard_rows" name="leaderboard_rows" type="text" class="pull-right" style="width:35px; color:#222d32; text-align:center;" value="{{.LeaderboardRows}}" />
            </label>

            <p>
              The number of player rows to show on the Leaderboard.
            </p>
          </div>
          <!-- /.form-group -->
        </form>
      </div>
      <!-- /.tab-pane -->
    </div>
  </aside>
  <!-- /.control-sidebar -->
  <!-- Add the sidebar's background. This div must be placed
       immediately after the control sidebar -->
  <div class="control-sidebar-bg"></div>
{{end}}